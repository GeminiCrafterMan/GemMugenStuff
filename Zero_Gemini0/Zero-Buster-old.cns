;---------------------------------------------------------------------------
; Z-Buster: Buster mode
[Statedef 4497]
type = S
ctrl = 0
anim = 10142
velset = 0,0
movetype = A
physics = S
ctrl = 0
sprpriority = 1

[State a]
type = Explod
trigger1 = var(9) < 25
trigger1 = var(8) = 19
anim = 1205
id = 4497
sprpriority = 5
postype = p1
pos = 0,0
bindtime = 1
under = 0
trans = addalpha
alpha = 235,220
ownpal = 1

[State a]
type = Explod
trigger1 = var(9) >= 25
trigger1 = var(9) < 90
trigger1 = var(8) = 20
anim = 1206
id = 4497
sprpriority = 5
postype = p1
pos = 0,0
bindtime = 1
under = 0
trans = addalpha
alpha = 235,220
ownpal = 1

[State a]
type = Explod
trigger1 = var(9) >= 90
trigger1 = var(8) = 20
anim = 1207
id = 4497
sprpriority = 5
postype = p1
pos = 0,0
bindtime = 1
under = 0
trans = addalpha
alpha = 235,220
ownpal = 1

[state a]
type = ctrlset
trigger1 = time = 1
value = 1

[state a];UŒ‚
type = Helper
trigger1 = time = 0
id = 4451
name = "X Buster"
sprpriority = 5
pos = 26,-31
postype = p1
stateno = 4451
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Z-Buster: Buster mode: Continued 1
[Statedef 4498]
type = S
ctrl = 0
anim = 201
velset = 0,0
movetype = A
physics = S
ctrl = 0
sprpriority = 1

[State a]
type = Explod
trigger1 = var(9) >= 25
trigger1 = var(9) < 90
trigger1 = var(8) = 20
anim = 206
id = 200
sprpriority = 5
postype = p1
pos = 0,0
bindtime = 1
under = 0
trans = addalpha
alpha = 235,220
ownpal = 1

[state a]
type = ctrlset
trigger1 = time = 1
value = 1

[state a]
type = Helper
trigger1 = time = 0
id = 4452
name = "Charged Shot"
sprpriority = 5
pos = 39,-30
postype = p1
stateno = 4452
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Z-Buster: Buster mode: Continued 2
[Statedef 4499]
type = S
ctrl = 0
anim = 202
velset = 0,0
movetype = A
physics = S
ctrl = 0
sprpriority = 1

[State a]
type = Explod
trigger1 = var(9) >= 90
trigger1 = var(8) = 20
anim = 207
id = 200
sprpriority = 5
postype = p1
pos = 0,0
bindtime = 1
under = 0
trans = addalpha
alpha = 235,220
ownpal = 1

[state a]
type = ctrlset
trigger1 = time = 1
value = 1

[state a]
type = Helper
trigger1 = time = 0
id = 4451
name = "Fully Charged Shot"
sprpriority = 5
pos = 39, -31
postype = p1
stateno = 4453
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Z-Buster: Buster mode: Continued 3
[Statedef 4450]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 65
ctrl = 0
velset = 0,0
anim = 390
;sprpriority = -1

[State 191, Snd 1]
type = PlaySnd
trigger1 = time = 1
trigger1 = time = 3
trigger2 = time = 5
trigger3 = time = 8
trigger4 = time = 10
trigger4 = time = 12
value = 200,7
channel = 2

[state a]
type = ctrlset
trigger1 = time = 1
value = 1

[State 200, 3]
type = Explod
trigger1 = time = 0
anim = 288
pos = 0, 0
ontop = 1
vel = 0
removetime = 12

[state a]
type = Helper
trigger1 = time = 0
id = 4451
name = "Super Fully Charged Shot"
sprpriority = 5
pos = 10, -5
postype = p1
stateno = 4454
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a]
type = Helper
trigger1 = time = 2
id = 4451
name = "Super Fully Charged Shot"
sprpriority = 5
pos = 10, 5
postype = p1
stateno = 4454
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a]
type = Helper
trigger1 = time = 4
id = 4451
name = "Super Fully Charged Shot"
sprpriority = 5
pos = 10, -10
postype = p1
stateno = 4454
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a]
type = Helper
trigger1 = time = 7
id = 4451
name = "Super Fully Charged Shot"
sprpriority = 5
pos = 10, 10
postype = p1
stateno = 4454
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a]
type = Helper
trigger1 = time = 9
id = 4451
name = "Super Fully Charged Shot"
sprpriority = 5
pos = 10, 15
postype = p1
stateno = 4454
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[state a]
type = Helper
trigger1 = time = 11
id = 4451
name = "Super Fully Charged Shot"
sprpriority = 5
pos = 10, -10
postype = p1
stateno = 4454
helpertype = normal
pausemovetime = 0
keyctrl = 0
ownpal = 1

[State 213, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------
; Buster shots
[Statedef 4451]
type = A
ctrl = 0
anim = 4451
velset = 7,0
movetype = A
physics = N
sprpriority = 5

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 245,50

[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 511
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = time = 1
attr = A, NP
animtype  = light
damage    = 10, 0
priority = 1, Hit
getpower = 30,0
givepower = 0,0
hitflag = MA
guardflag = MA
pausetime = 0,0
sparkno = s550
sparkxy = 0,0
hitsound   = s200,3
guardsound = s200,4
guard.sparkno = s555
ground.type = high
ground.slidetime = 0
ground.hittime  = 0
ground.velocity = 0
air.velocity = 0,0
yaccel = 0.47
air.fall = 0
fall.recover = 1
ID = 1000
nochainID = 9999
palfx.time =1
palfx.mul = 230,230,250
palfx.sinadd = 255,255,255,5;palfx.sinadd = 63,65,68,5
palfx.add = 16,16,16
palfx.color = 1
palfx.invertall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[state a]
type = changestate
trigger1 = moveguarded
value = 510

[state a]
type = destroyself
trigger1 = movehit
trigger2 = frontedgedist <= -100
trigger3 = backedgedist <= -100
trigger4 = time = 150

;---------------------------------------------------------------------------
[Statedef 4452]
type = A
ctrl = 0
anim = 4452
velset = 0,0
movetype = A
physics = N
sprpriority = 5

[state a]
type = bindtoroot
trigger1 = animelem = 2,<0
trigger1 = root,statetype = A
trigger1 = root,stateno != 100
pos = 39,-30

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 245,50

[state a]
type = velset
trigger1 = animelem = 2
x = 8

[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 511
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = animelem = 2
attr = A, SP
animtype  = mid
damage    = 30, 5
priority = 4, Hit
getpower = 50,0
givepower = 0,0
hitflag = MA
guardflag = MA
pausetime = 0,0
sparkno = s550
sparkxy = 0,0
hitsound   = s200,3
guardsound = s200,4
guard.sparkno = s555
ground.type = high
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -5
air.velocity = -2,-3
yaccel = 0.47
air.fall = 0
fall.recover = 1
ID = 1000
nochainID = 9999
palfx.time =1
palfx.mul = 230,230,250
palfx.sinadd = 255,255,255,5;palfx.sinadd = 63,65,68,5
palfx.add = 16,16,16
palfx.color = 1
palfx.invertall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[state a]
type = changestate
trigger1 = moveguarded
value = 510

[state a]
type = destroyself
trigger1 = movehit
trigger2 = frontedgedist <= -100
trigger3 = backedgedist <= -100
trigger4 = time = 150

;---------------------------------------------------------------------------
[Statedef 4453]
type = A
ctrl = 0
anim = 4453
velset = 0,0
movetype = A
physics = N
sprpriority = 5

[state a]
type = bindtoroot
trigger1 = animelem = 2,<0
trigger1 = root,statetype = A
trigger1 = root,stateno != 100
pos = 39,-31

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 245,50

[state a]
type = velset
trigger1 = animelem = 2
x = 11

[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = null;hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = null;hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 511
ignorehitpause = 1

[State 210, 2]
type = HitDef
trigger1 = animelem = 2
trigger2 = moveguarded = 3
attr = A, HP
animtype  = hard
damage    = 100, 4
priority = 6, Hit
getpower = 75,0
givepower = 0,0
hitflag = MA
guardflag = MA
pausetime = 0,6
sparkno = s551
sparkxy = 0,0
hitsound   = s200,3
guardsound = s200,4
guard.sparkno = s555
ground.type = high
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -5
air.velocity = -2,-3
yaccel = 0.47
air.fall = 0
fall.recover = 1
ID = 1000
nochainID = 9999
palfx.time =1
palfx.mul = 230,230,250
palfx.sinadd = 255,255,255,5;palfx.sinadd = 63,65,68,5
palfx.add = 16,16,16
palfx.color = 1
palfx.invertall = 1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0

[state a]
type = destroyself
trigger1 = movehit
trigger2 = frontedgedist <= -100
trigger3 = backedgedist <= -100
trigger4 = time = 150

;---------------------------------------------------------------------------
[Statedef 4454]
type = A
ctrl = 0
anim = 4454
velset = 0,0
movetype = A
physics = N
sprpriority = 5

[state a]
type = bindtoroot
trigger1 = animelem = 2,<0
trigger1 = root,statetype = A
trigger1 = root,stateno != 100
pos = 39,-31

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 245,50

[state a]
type = velset
trigger1 = animelem = 2
x = 6

[state a]
type = nothitby
trigger1 = 1
value = SCA
time = -1

[state a]
type = null;hitby
trigger1 = 1
value = SCA,NP,SP,HP
time = -1
ignorehitpause = 1

[state a]
type = null;hitoverride
trigger1 = 1
attr = SCA,NP,SP,HP
stateno = 511
ignorehitpause = 1

[State 213,4]
type = HitDef
trigger1 = time = 0
offset = 0,0
velocity = 5
; HitDef
attr = S, SP
animtype = Medium
damage    = 30, 4
hitflag = MAFD
guardflag = MAF
pausetime = 3,6
pausetime = 0,6
sparkno = s552
sparkxy = 0,0
hitsound   = s200,3
guardsound = s200,4
guard.sparkno = s555
ground.type = High
ground.slidetime = 3
ground.hittime  = 20
ground.velocity = -5
airguard.velocity = -5
air.velocity = -5
air.juggle = 9

[state a]
type = destroyself
trigger1 = movehit
trigger2 = frontedgedist <= -100
trigger3 = backedgedist <= -100
trigger4 = time = 150